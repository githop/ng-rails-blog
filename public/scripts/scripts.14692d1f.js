"use strict";angular.module("angularApp",["ngResource","ngRoute","ngTouch","ngSanitize"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/postIndex.html",controller:"PostsCtrl"}).when("/posts/new",{templateUrl:"views/postNew.html",controller:"NewPostCtrl"}).when("/posts/:id/edit",{templateUrl:"/views/postEdit.html",controller:"EditPostCtrl"}).when("/posts/:id",{templateUrl:"views/postShow.html",controller:"PostCtrl"}).otherwise("/")}]),angular.module("angularApp").controller("PostsCtrl",["$scope","$location","postFactory",function(a,b,c){function d(){c.allPosts().success(function(b){a.posts=b}).error(function(a){console.log("Whoops "+a.message)})}d(),a.viewPost=function(a){b.url("/posts/"+a.id)},a.newPost=function(){b.url("/posts/new")}}]),angular.module("angularApp").service("postFactory",["$http",function(a){var b="/posts",c={};return c.allPosts=function(){return a.get(b)},c.postGet=function(c){return a.get(b+"/"+c)},c.newPost=function(c){return a.post(b,c)},c.postDelete=function(c){return a.delete(b+"/"+c)},c.postEdit=function(c){return a.put(b+"/"+c.id,c)},c}]),angular.module("angularApp").controller("PostCtrl",["$scope","$routeParams","$location","postFactory",function(a,b,c,d){function e(b){d.postGet(b).success(function(b){a.post=b}).error(function(a){console.log("error message: "+a.message)})}a.post={title:"loading..",contents:""},e(b.id),a.deletePost=function(a){d.postDelete(a.id).success(function(){c.url("/")}).error(function(a){console.log("error message: "+a.message)})},a.editPost=function(){c.url("/posts/"+b.id+"/edit")}}]),angular.module("angularApp").controller("NewPostCtrl",["$scope","$location","postFactory",function(a,b,c){a.post={title:"",contents:""},a.createPost=function(d){c.newPost(d).success(function(){a.post=d,b.url("/")})}}]),angular.module("angularApp").controller("EditPostCtrl",["$scope","$routeParams","$location","postFactory",function(a,b,c,d){function e(b){d.postGet(b).success(function(b){a.post=b})}a.post={title:"loading...",contents:""},e(b.id),a.editPost=function(a){d.postEdit(a).success(function(){c.url("/posts/"+b.id)}).error(function(a){console.log("whoops "+a.message)})}}]);
